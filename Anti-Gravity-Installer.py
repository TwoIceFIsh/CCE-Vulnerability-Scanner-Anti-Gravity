import psutil as psutil


def check_if_process_running(process_name):
    '''
    Check if there is any running process that contains the given name processName.
    '''
    proc_num = 0
    # Iterate over the all the running process
    for proc in psutil.process_iter():
        try:
            # Check if process name conta
            if process_name.lower() in proc.name().lower():
                proc_num += 1
                print(f'{proc.name()} {proc.pid}')

                return proc.pid
        except (psutil.NoSuchProcess, psutil.AccessDenied, psutil.ZombieProcess):
            pass
    return False;


proc_id = check_if_process_running('Anti-Gravity-agent.exe')
print(proc_id)
if proc_id is not False:
    psutil.Process(proc_id).kill()
print(check_if_process_running('Anti-Gravity-agent.exe'))

# 프로그램 시작시 PID 저장
proc_id = check_if_process_running('Anti-Gravity-agent.exe')
# 1일경과

# 새로운 프로세스 실행(서비스 시작 명령어)

# 자기자신 종료

#
